(self.webpackChunkreact_qq_music=self.webpackChunkreact_qq_music||[]).push([[913],{1732:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var a=t(9405),i=t(5907),r=t.n(i),l=function(e){return(0,a.Z)({method:"GET",url:"/getAlbumInfo?"+r().stringify(e)})}},8867:(e,n,t)=>{"use strict";t.d(n,{Z:()=>y});var a=t(863),i=t(5365),r=t(4403),l=t.n(r),c=t(5488);const o="_2VAyGHGt",u="cOMhUzdH",s="_3mX8oF9E",m="_14ilbZ2I",d="_17NYzeV9",f="_1J6orGHN",v="_3_pDEb7z",p="_3bOa1F_s",g="_2nwZsqyY";const y=function(e){var n=e.data,t=e.showListenNum,r=void 0!==t&&t,y=e.onPlay,k=e.onView,E=e.clickSinger,h=(0,a.useState)([]),b=h[0],_=h[1],N=(0,a.useState)({show:!1,title:""}),C=N[0],S=N[1];(0,a.useEffect)((function(){_(n)}),[n]);var w=(0,a.useMemo)((function(){return null==b?void 0:b.map((function(e,n){var t=e.cover,o=e.title,u=e.listen_num,h=e.content_id,b=e.singers,_=e.release_time;return a.createElement("div",{key:n,style:"no123"===o?{visibility:"hidden"}:{}},a.createElement("div",{className:s,onMouseEnter:function(){return Z(1,o)},onMouseLeave:function(){return Z(0,o)},onClick:function(){return k&&k(h)}},a.createElement(i.Z,{classNames:"toplayAnim",in:C.title===o&&C.show,timeout:300},a.createElement("i",{className:l()("iconfont","icon-toplay",d),onClick:function(e){e.stopPropagation(),y&&y(h)}})),r&&a.createElement(i.Z,{in:!(C.title===o&&C.show),timeout:0},a.createElement("div",{className:m},a.createElement("i",{className:l()("iconfont","icon-listen")}),(0,c.Y4)(u))),a.createElement("img",{src:t,alt:o})),a.createElement("div",{className:g,onClick:function(){return k&&k(h)}},o),null==b?void 0:b.map((function(e,n){var t=e.name,i=e.mid;return a.createElement("span",{key:n,className:f},a.createElement("span",{className:v,onClick:function(){E&&E(i)}},t),1!==b.length&&n!==b.length-1?" / ":"")})),a.createElement("span",{className:p},_))}))}),[b,C]),Z=function(e,n){S({show:!!e,title:e?n:""})};return a.createElement("div",{className:o},a.createElement("div",{className:u},w))}},5669:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var a=t(863),i=t(4403),r=t.n(i),l=t(5488);const c={container:"fCfgtkMX",wrapper:"EDsB9ymv",item:"_2oZlNcj4",title0:"_2K66qg5e",title1:"_1NLv3Kkc",title2:"_2HZJPVQg",title3:"_3GibRtZn",title:"_1Xkd_p4k",content:"piAa33Fg",select:"_2IWDSLRT"};const o=function(e){var n=e.data,t=e.columns,i=e.onClickSong,o=e.onClickSinger,u=e.onClickAlbum,s=e.currentSongId,m=(0,a.useCallback)((function(e,n,t){var i,r;return[e[n],"singer"===n&&(null===(i=e[n])||void 0===i?void 0:i.map((function(t,i){var r=t.name,l=t.mid;return a.createElement("span",{key:i},a.createElement("span",{onClick:function(){return o&&o(l)}},r),1!==e[n].length&&i!==e[n].length-1?" / ":"")}))),"album"===n&&(null===(r=e[n])||void 0===r?void 0:r.name)||e.albumname,(0,l.ih)(e[n])][t]}),[]),d=(0,a.useMemo)((function(){return a.createElement("div",{className:r()(c.wrapper,c.title)},t.map((function(e,n){return a.createElement("div",{className:r()(c.item,c["title"+n]),key:e.key||e.dataIndex},e.title)})))}),[t]),f=(0,a.useMemo)((function(){return null==n?void 0:n.map((function(e){return a.createElement("div",{key:e.id,className:r()(c.wrapper,c.content)},t.map((function(n,t){var l,o=n.dataIndex,d=n.key;return a.createElement("div",{className:r()(c.item,c["title"+t]),key:d||o},a.createElement("span",{onClick:function(){var n;i&&0===t&&i(e.mid),u&&2===t&&u((null===(n=null==e?void 0:e[o])||void 0===n?void 0:n.mid)||e.albummid)},className:r()((l={},l[c.select]=s===e.mid,l))},m(e,o,t)))})))}))}),[n,t,s]);return a.createElement("div",{className:c.container},d,f)}},7774:(e,n,t)=>{"use strict";t.d(n,{Z:()=>u});var a=t(863),i=t(4403),r=t.n(i);const l="-mn5VKul",c="_1vDXk4To",o="_3uVpiZdS";const u=function(e){var n=e.data,t=e.defaultActiveKey,i=e.activeKey,u=e.onSelect,s=e.onChange,m=e.itemStyle,d=(0,a.useState)(t||n[0].key),f=d[0],v=d[1];(0,a.useEffect)((function(){i&&v(i)}),[i]),(0,a.useEffect)((function(){var e;s&&s(f,null===(e=n.find((function(e){return e.key===f})))||void 0===e?void 0:e.label)}),[f]);var p=(0,a.useMemo)((function(){return n.map((function(e){var n,t=e.label,i=e.key;return a.createElement("div",{key:i,className:r()(c,(n={},n[o]=f===i,n)),style:m},a.createElement("div",{onClick:function(){return function(e,n){u&&u(e,n),v(e)}(i,t)}},t))}))}),[n,f]);return a.createElement("div",{className:l},p)}},6960:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>P});var a=t(863),i=t(5092),r=t(1732),l=t(9635),c=t(4109),o=t(7774),u=t(7695),s=t(4403),m=t.n(s),d=t(5365);const f="_2sssNh7-",v="FXYsXSGC",p="_28g23ao8",g="_2IboFQJO",y="_2UTF4K_X",k="_1YX9fdCl",E="iQCMKHxc",h="l_eqZJqU",b="_1rdIG6Sq",_="_3RLiCfh_";var N=function(e){var n,t,i,r,l=e.className,c=e.style,o=e.pageSize,u=void 0===o?1:o,s=e.current,N=e.total,C=e.disabled,S=e.onChange,w=e.showQuickJumper,Z=(0,a.useState)(s),I=Z[0],M=Z[1],x=(0,a.useState)(!1),A=x[0],F=x[1];(0,a.useEffect)((function(){S&&I&&S(I)}),[I]),(0,a.useEffect)((function(){M(s)}),[s]);var z=(0,a.useMemo)((function(){return function(e,n){return Math.ceil(e/n)}(N,u)}),[N,u]),P=(0,a.useRef)("");return a.createElement("div",{className:m()(f,l,(n={},n[p]=C,n)),style:c},a.createElement("div",{className:m()(v,(t={},t[p]=C,t)),onClick:function(){I&&I>1&&M(I-1)}},"<"),function(e){var n,t;if(I)return null===(t=null===(n=new Array(e))||void 0===n?void 0:n.fill(""))||void 0===t?void 0:t.map((function(n,t){var i,r;return a.createElement(a.Fragment,null,a.createElement("div",{className:m()(v,(i={},i[g]=I===t+1,i[k]=e>5&&I<=3&&t+1>5||e>5&&I>=e-2&&t+1<e-4||e>5&&I<e-2&&I>3&&(t+1>I+2||t+1<I-2),i[E]=e>5&&(t+1===e||t+1===1),i[p]=C,i[y]=I===t+1&&C,i)),key:t,onClick:function(){M(t+1)}},t+1),a.createElement("div",{className:m()(v,(r={},r[k]=e>0,r[E]=e>5&&I>4&&t+1===1||e>5&&I<e-3&&t+1===e-1,r[p]=C,r)),onClick:function(){e>5&&I>4&&t+1===1&&M(5===I?I-4:I-5),e>5&&I<e-3&&t+1===e-1&&M(I===e-4?I+4:I+5)}},"..."))}))}(z>0?z:1),a.createElement("div",{className:m()(v,(i={},i[p]=C,i)),onClick:function(){I&&I<z&&M(I+1)}},">"),w?a.createElement("div",{style:{marginLeft:"20px"},id:"jump"},a.createElement("div",{className:b},"跳至",a.createElement("input",{className:m()(h,(r={},r[p]=C,r)),type:"text",ref:P,onChange:function(e){P.current.value=e.target.value},onKeyDown:function(e){if(13===e.keyCode){var n=Number(P.current.value);n>0&&n<=z&&M(n),P.current.value=""}},onFocus:function(){F(!0)},onBlur:function(){F(!1)}}),a.createElement(d.Z,{in:A,animation:"zoom-in-bottom",timeout:300,className:_},a.createElement("div",null,"输入后回车")),"页")):a.createElement(a.Fragment,null))};N.defaultProps={current:1};const C=N;var S=t(5669),w=t(8867),Z=t(3774);const I="_2AjVzgGF",M="J6Vv-Mkz",x="_1kPwkI8j";var A=function(){return(A=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},F=function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function l(e){try{o(a.next(e))}catch(e){r(e)}}function c(e){try{o(a.throw(e))}catch(e){r(e)}}function o(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,c)}o((a=a.apply(e,n||[])).next())}))},z=function(e,n){var t,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){l.label=r[1];break}if(6===r[0]&&l.label<i[1]){l.label=i[1],i=r;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(r);break}i[2]&&l.ops.pop(),l.trys.pop();continue}r=n.call(e,l)}catch(e){r=[6,e],a=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}};const P=function(e){var n=(0,i.k6)(),t=n.location.state,s=(0,a.useState)(null),m=s[0],d=s[1],f=(0,a.useState)(null),v=f[0],p=f[1],g=(0,a.useState)(null),y=g[0],k=g[1],E=(0,a.useState)(1),h=E[0],b=E[1],_=(0,c.Z)(),N=_.setPlaylist,P=_.curSong,q=_.setCurSong;(0,a.useEffect)((function(){var e=t.remoteplace,n=t.key;b(1),k("song"),D({remoteplace:e,key:n,page:1})}),[t]);var D=function(e){return F(void 0,void 0,void 0,(function(){var n;return z(this,(function(t){switch(t.label){case 0:return[4,(0,l.e3)(e)];case 1:return n=t.sent().data.response.data,d(n.zhida.zhida_singer),p(n.song),[2]}}))}))};return a.createElement("div",null,a.createElement("div",{className:I},"搜索",a.createElement("span",null,t.key)),m&&a.createElement("div",{className:M},a.createElement("img",{src:m.singerPic,onClick:function(){return n.push("/Singer",{remoteplace:"singer",mid:m.singerMID})}}),a.createElement("div",{onClick:function(){return n.push("/Singer",{remoteplace:"singer",mid:m.singerMID})}},"歌手：",m.singerName),a.createElement("div",{onClick:function(){return n.push("/Singer",{remoteplace:"song",mid:m.singerMID})}},"单曲 ",m.songNum),a.createElement("div",{onClick:function(){return n.push("/Singer",{remoteplace:"album",mid:m.singerMID})}},"专辑 ",m.albumNum)),a.createElement(o.Z,{data:Z.Z.TAB_TITLE,itemStyle:{width:100,margin:"10px 0"},activeKey:y,onChange:function(e){return function(e){var n=t.key;k(e),D({remoteplace:e,key:n,page:1}),b(1)}(e)}}),"song"===y&&a.createElement(a.Fragment,null,a.createElement(u.Z,{icon:"icon-play",type:"primary",onClick:function(){return N(null==v?void 0:v.list),void q(null==v?void 0:v.list[0].mid)}},"播放全部"),a.createElement(S.Z,{data:null==v?void 0:v.list,columns:[{title:"歌曲",dataIndex:"name",key:"name"},{title:"歌手",dataIndex:"singer",key:"singer"},{title:"专辑",dataIndex:"album",key:"album"},{title:"时长",dataIndex:"interval",key:"interval"}],onClickSong:function(e){N(null==v?void 0:v.list),q(e)},onClickSinger:function(e){n.push("/Singer",{remoteplace:"singer",mid:e})},onClickAlbum:function(e){n.push("/Album",{remoteplace:"album",mid:e})},currentSongId:P})),"album"===y&&a.createElement(w.Z,{data:null==v?void 0:v.list.map((function(e){return{cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+e.album.mid+".jpg",title:e.album.name,content_id:e.album.mid}})),onPlay:function(e){!function(e){F(void 0,void 0,void 0,(function(){var n,t,a;return z(this,(function(i){switch(i.label){case 0:return n=e.mid,[4,(0,r.$)({albummid:n})];case 1:return t=i.sent().data.response.data,a=A(A({},t),{list:t.list.map((function(e){return A(A({},e),{id:e.songid,name:e.songname,mid:e.songmid})}))}),N(null==a?void 0:a.list),q(null==a?void 0:a.list[0].mid),[2]}}))}))}({mid:e})},onView:function(e){n.push("/Album",{remoteplace:"album",mid:e})}}),a.createElement("div",{className:x},a.createElement(C,{total:(null==v?void 0:v.totalnum)-100,current:h||1,pageSize:10,onChange:function(e){var n=t.key,a=t.remoteplace;D({remoteplace:y||a,key:n,page:e}),b(e)}})))}}}]);